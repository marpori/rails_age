class <%= class_name %>
  include ApacheAge::Entities::Vertex

<%- attributes_list.each do |attribute| -%>
  attribute :<%= attribute[:name] %>, :<%= attribute[:type] %>
<%- end -%>

<%- attributes_list.each do |attribute| -%>
  validates :<%= attribute[:name] %>, presence: true
<%- end -%>

  # unique node validator (remove any attributes that are not important to uniqueness)
  validates_with(
    ApacheAge::Validators::UniqueVertexValidator,
    attributes: <%= unique_attributes.inspect %>
  )
end
